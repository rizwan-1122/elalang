/* 
  Module format
  Created in 2012 by Basil Voronkov
*/
open console
import libFormat#elalib@fm

format' # private 
format' fun fstr xs n 
  | n == 0 = fun (fm.format fstr showf xs)
  | else = \x -> format' fun fstr (force x::xs) (n - 1)

printf fstr = format' write f' [] (fm.countArgs f')
  where f' = force fstr

printfn fstr = format' writen f' [] (fm.countArgs f')
  where f' = force fstr

formatStr fstr = format' id f' [] (fm.countArgs f')
  where f' = force fstr

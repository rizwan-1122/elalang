/* 
  Module cell
  Created in 2012 by Basil Voronkov
*/
import libCell#elalib@cl

/* Construction */
type cell a = Ref a

/* Instances */
instance Show cell
  where showf fmt (Ref x) = "<cell:" ++ showf fmt x ++ ">"

/* Functions */
mutate e (Ref x)@c = cl.mutate e c

valueof (Ref x) = x

c.+ = mutate (valueof c + 1) c

c.- = mutate (valueof c - 1) c

c := e = mutate e c
